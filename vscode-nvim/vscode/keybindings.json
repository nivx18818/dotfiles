[
  // which-key
  {
    "key": "space",
    "command": "whichkey.show",
    "when": "neovim.init && neovim.mode != insert && neovim.mode != replace && (editorFocus || !textInputFocus) && !inSettingsEditor && !searchInputBoxFocus && !terminalFocus && !inQuickOpen && !whichkeyVisible"
  },
  {
    "key": "tab",
    "command": "whichkey.triggerKey",
    "args": "\t",
    "when": "whichkeyVisible"
  },
  {
    // allow which-key calling
    "key": "escape",
    "command": "workbench.action.blur",
    "when": "!editorFocus && inputFocus && (inSettingsEditor || inKeybindings || sideBarFocus || auxiliaryBarFocus)"
  },

  // vscode-neovim
  {
    "key": "ctrl+h",
    "command": "workbench.action.navigateLeft",
    "when": "!terminalFocus && neovim.mode != 'cmdline'"
  },
  {
    "key": "ctrl+j",
    "command": "workbench.action.navigateDown",
    "when": "!terminalFocus && neovim.mode != 'cmdline'"
  },
  {
    "key": "ctrl+k",
    "command": "workbench.action.navigateUp",
    "when": "!terminalFocus && neovim.mode != 'cmdline'"
  },
  {
    "key": "ctrl+l",
    "command": "workbench.action.navigateRight",
    "when": "!terminalFocus && neovim.mode != 'cmdline'"
  },

  // panel & terminal
  {
    "key": "ctrl+/",
    "command": "workbench.action.togglePanel"
  },
  {
    "key": "ctrl+t",
    "command": "workbench.action.terminal.focus",
    "when": "panelFocus && !terminalFocus"
  },
  {
    "key": "ctrl+t",
    "command": "workbench.action.terminal.new",
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+shift+l",
    "command": "workbench.action.terminal.focusNext",
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+shift+h",
    "command": "workbench.action.terminal.focusPrevious",
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+w",
    "command": "workbench.action.terminal.kill",
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+h",
    "command": "workbench.action.terminal.sendSequence",
    "args": { "text": "\u001b[D" },
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+j",
    "command": "workbench.action.terminal.sendSequence",
    "args": { "text": "\u001b[B" },
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+k",
    "command": "workbench.action.terminal.sendSequence",
    "args": { "text": "\u001b[A" },
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+l",
    "command": "workbench.action.terminal.sendSequence",
    "args": { "text": "\u001b[C" },
    "when": "terminalFocus"
  },

  // chat
  {
    "key": "ctrl+.",
    "command": "workbench.action.chat.openModePicker",
    "when": "inChat"
  },
  {
    "key": "ctrl+m",
    "command": "workbench.action.chat.openModelPicker",
    "when": "inChat"
  }
]
